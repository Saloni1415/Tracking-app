{"version":3,"sources":["webpack:///src/app/pages/driverpublish/driverpublish.component.html","webpack:///src/app/pages/driverpublish/driverpublish.component.scss","webpack:///src/app/pages/driverpublish/driverpublish.component.ts","webpack:///src/app/pages/driverpublish/driverpublish.module.ts","webpack:///src/app/websocket.service.ts"],"names":["DriverpublishComponent","web","longlats","interval","takeWhile","subscribe","pub","item","Coordinate","Longitude","Math","random","Latitude","driverName","drivname","publishloc","Status","driver_name","stat","name","status","selector","template","routes","path","component","pathMatch","DriverpublishModule","declarations","imports","forChild","providers","WebsocketService","socket","emit","client","driv","providedIn"],"mappings":"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","file":"pages-driverpublish-driverpublish-module-es5.js","sourcesContent":["export default \"<p>driverpublish works!</p>\\n<nav class=\\\"navbar navbar-inverse\\\">\\n    <div class=\\\"container-fluid\\\">\\n      <div class=\\\"navbar-header\\\">\\n        <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Driver Side Page</a>\\n      </div>\\n    </div>\\n  </nav>\\n  <div style=\\\"margin-left: 1%;\\\">\\n    <label style=\\\"margin-bottom: 15px;\\\" for=\\\"exampleForm2\\\">Driver Name : </label>\\n    <input [(ngModel)]=\\\"drivname\\\" type=\\\"text\\\" style=\\\"width: 20%;  margin-bottom: 1%;\\\" id=\\\"driverName\\\"  class=\\\"form-control\\\">\\n </div>\\n <div>\\n    <input type=\\\"button\\\" class=\\\"btn btn-primary\\\" style=\\\"margin-left: 1%;\\\" value=\\\"Reached Seller's House\\\" (click)=\\\"statusupdate('reached seller house')\\\">\\n    <input type=\\\"button\\\" class=\\\"btn btn-primary\\\" value=\\\"Order Picked\\\" (click)=\\\"statusupdate('Order Picked ')\\\">\\n    <input type=\\\"button\\\" class=\\\"btn btn-primary\\\" value=\\\"shipped\\\"  (click)=\\\"statusupdate('Shipped')\\\"> \\n    <input type=\\\"button\\\" class=\\\"btn btn-primary\\\" value=\\\"out for delivery\\\"  (click)=\\\"statusupdate('Out for Delivery')\\\"> \\n    <input type=\\\"button\\\" class=\\\"btn btn-primary\\\" value=\\\"delivered\\\"  (click)=\\\"statusupdate('Delivered')\\\"> \\n   </div>\\n<button type=\\\"submit\\\" (click)=\\\"sub()\\\" id=\\\"submit\\\"> <h1>Submit</h1></button>\";","export default \"#submit {\\n  height: 200px;\\n  background-color: orange;\\n  color: white;\\n  width: 200px;\\n  border-radius: 100%;\\n  margin: 20%;\\n  margin-top: 5%;\\n  margin-left: 5%;\\n  outline: none;\\n  border-color: orange;\\n  box-shadow: 2px 2px 8px 0px rgba(0, 0, 0, 0.2);\\n  transition: 0.2s ease-out;\\n}\\n\\n#submit:hover {\\n  transform: scale(1.05);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZHJpdmVycHVibGlzaC9DOlxcVXNlcnNcXHNhbG9uaVxcRGVza3RvcFxcRmlyc3QtcHJvamVjdFxcZW1wb3JpdW0vc3JjXFxhcHBcXHBhZ2VzXFxkcml2ZXJwdWJsaXNoXFxkcml2ZXJwdWJsaXNoLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9wYWdlcy9kcml2ZXJwdWJsaXNoL2RyaXZlcnB1Ymxpc2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0Esd0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLG9CQUFBO0VBQ0EsOENBQUE7RUFDQSx5QkFBQTtBQ0NKOztBRENBO0VBQ0ksc0JBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RyaXZlcnB1Ymxpc2gvZHJpdmVycHVibGlzaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNzdWJtaXR7XHJcbiAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIG1hcmdpbjogMjAlO1xyXG4gICAgbWFyZ2luLXRvcDogNSU7XHJcbiAgICBtYXJnaW4tbGVmdDogNSU7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyLWNvbG9yOiBvcmFuZ2U7XHJcbiAgICBib3gtc2hhZG93OiAycHggMnB4IDhweCAwcHggcmdiYSggMCwgMCwgMCwgMC4yICk7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjJzIGVhc2Utb3V0O1xyXG59XHJcbiNzdWJtaXQ6aG92ZXJ7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xyXG59IiwiI3N1Ym1pdCB7XG4gIGhlaWdodDogMjAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IG9yYW5nZTtcbiAgY29sb3I6IHdoaXRlO1xuICB3aWR0aDogMjAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gIG1hcmdpbjogMjAlO1xuICBtYXJnaW4tdG9wOiA1JTtcbiAgbWFyZ2luLWxlZnQ6IDUlO1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXItY29sb3I6IG9yYW5nZTtcbiAgYm94LXNoYWRvdzogMnB4IDJweCA4cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgdHJhbnNpdGlvbjogMC4ycyBlYXNlLW91dDtcbn1cblxuI3N1Ym1pdDpob3ZlciB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport {WebsocketService} from '../../websocket.service'\nimport { Observable } from 'rxjs/Observable';\n@Component({\n  selector: 'app-driverpublish',\n  templateUrl: './driverpublish.component.html',\n  styleUrls: ['./driverpublish.component.scss']\n})\n\nexport class DriverpublishComponent implements OnInit {\n\n  drivname;\n  item;\n  longlats = [78.161166,30.187217]\n\n  constructor(private web:WebsocketService) { }\n\n  ngOnInit(): void {\n  }\n\n  sub()\n  {\n    Observable.interval(3000).takeWhile(() => true).subscribe(() => this.pub());    \n  }\n\n  pub(){\n    this.item = {};\n    this.item.Coordinate = {};\n    this.item.Coordinate.Longitude = this.longlats[0] + (Math.random()/100);\n    this.item.Coordinate.Latitude = this.longlats[1] + (Math.random()/100);\n    this.item.driverName = this.drivname;\n    this.web.publishloc(this.item);\n    // alert(\"publishing..\")\n  }\n\n  statusupdate(Status){\n    var driver_name = this.drivname;\n    this.web.stat({name:driver_name,status:Status})\n  }\n  \n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DriverpublishComponent } from './driverpublish.component';\nimport{ FormsModule} from '@angular/forms'\nimport {WebsocketService} from '../../websocket.service'\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../../shared/shared.module';\n\nexport const routes = [\n  { path: '', component: DriverpublishComponent, pathMatch: 'full' }\n];\n\n\n@NgModule({\n  declarations: [DriverpublishComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  providers:[WebsocketService]\n})\nexport class DriverpublishModule { }\n","import { Injectable } from '@angular/core';\r\nimport { UserService } from './user.service';\r\nimport * as io from 'socket.io-client';\r\nimport { Observable } from 'rxjs/observable';\r\nimport * as Rx from 'rxjs/Rx';\r\nimport { environment } from '../environments/environment';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class WebsocketService {\r\n \r\n  private socket = io('http://localhost:3000');\r\n  constructor() { }\r\n\r\n  // newMessageReceived() {\r\n  //   const observable = new Observable<{ user: String, message: String}>(observer => {\r\n  //     this.socket.on('new message', (data) => {\r\n  //       observer.next(data);\r\n  //     });\r\n  //     return () => {\r\n  //       this.socket.disconnect();\r\n  //     };\r\n  //   });\r\n  //   return observable;\r\n  // }\r\n\r\n  // typing(data) {\r\n  //   this.socket.emit('typing', data);\r\n  // }\r\n\r\n  // receivedTyping() {\r\n  //   const observable = new Observable<{ isTyping: boolean}>(observer => {\r\n  //     this.socket.on('typing', (data) => {\r\n  //       observer.next(data);\r\n  //     });\r\n  //     return () => {\r\n  //       this.socket.disconnect();\r\n  //     };\r\n  //   });\r\n  //   return observable;\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  publishloc(item) {\r\n    this.socket.emit('lastKnownLocation', item);\r\n  }\r\n\r\n\r\n  postclientname(client){\r\n    this.socket.emit(\"postClientName\",client);\r\n  }\r\n\r\n  stat(driv){\r\n    this.socket.emit('status',driv);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n"]}